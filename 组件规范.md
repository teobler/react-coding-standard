在开始聊组件的代码规范前，我想先聊聊 React 本身。首先我们需要接受 React 只是一个视图库，而不是一个大包大揽的框架。

> 如果回过头来审视React，并接受它在整个应用中**只是负责视图部分**这个事实，很多问题则会迎刃而解。无论是我们依照传统GUI的`MVC/MVP`架构，或者其变种`MVVM`，如果React只是其实的 `V`，那么显然，在前端我们需要一部分代码来充当`M`或者`VM`的角色。

以此为基础一个组件的本职工作应该是渲染视图，为了避免业务逻辑散落到每一个本应只负责渲染视图的组件中，我们应该将所有业务逻辑集中起来。React 给我们提供了 **hooks** 这个选项，前端开发人员们加入了 **helper / utils** 这个选项，而我推荐你**业务建模**这个选项。

业务逻辑在前端主要分为两类：

一是我们在日常开发中没办法保证后端的数据能够直接用于前端视图的渲染，需要根据页面的情况做一定的处理/转换/拼接。

二是一些逻辑判断/校验等需要放到客户端来做，一方面为了提升用户体验，另一方面也能够减轻服务器的压力。

而如果我们能够将这些数据按照业务进行建模，那么这就意味着这些业务模型将承担 `M` 的职责，将业务逻辑内聚，组件直接调用模型的getter 方法即可拿到需要渲染的数据。

这样做的好处使得我们拥有了职责分离的代码，将业务内聚于模型，将渲染内聚于组件。使我们专注于每一部分的同时获得了代码更好地可测性，即低耦合的代码。

综上所述，组件应该只负责渲染视图，业务逻辑应该内聚于业务模型。如果你的团队做不到这一点，那么我们可以后退一步，将你的所有业务逻辑放入 hooks 力求达到类似的效果。

References:
1. [从 TDD 到测试策略](https://teobler.com/posts/20220131-from-tdd-to-test-strategy)
2. 何处安放你的业务逻辑
